"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.userRouter = exports.adminRouter = void 0;
const express_1 = require("express");
const users_controller_1 = require("../controllers/users.controller");
const auth_middleware_1 = require("../middlewares/auth.middleware");
const utils_1 = require("../utils/utils");
const users_validators_1 = require("../validators/users.validators");
const auth_router_1 = require("./auth.router");
const banks_router_1 = require("./banks.router");
const cards_router_1 = require("./cards.router");
const favorites_router_1 = require("./favorites.router");
const offers_router_1 = require("./offers.router");
exports.adminRouter = (0, express_1.Router)();
exports.adminRouter.use("/auth", auth_router_1.adminAuthRouter);
exports.adminRouter.use("/banks", auth_middleware_1.authorizeAdmin, banks_router_1.banksAdminRouter);
exports.adminRouter.use("/cards", auth_middleware_1.authorizeAdmin, cards_router_1.cardsAdminRouter);
exports.adminRouter.use("/offers", auth_middleware_1.authorizeAdmin, offers_router_1.offersAdminRouter);
exports.userRouter = (0, express_1.Router)();
exports.userRouter.use("/auth", auth_router_1.userAuthRouter);
exports.userRouter.use("/banks", banks_router_1.banksUserRouter);
exports.userRouter.use("/cards", cards_router_1.cardsUserRouter);
exports.userRouter.use("/offers", offers_router_1.offersUserRouter);
exports.userRouter.use("/favorites", favorites_router_1.userFavoriteOffersRouter);
exports.userRouter.post("/signup", (0, utils_1.validateRequest)(users_validators_1.signupUserSchema), users_controller_1.usersController.createUserHandler);
